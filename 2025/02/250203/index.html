<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>git clone 报错什么 RPC failed 啊怎么办？ | 🐦微语鸟舍🐦</title><meta name="author" content="FishCat233"><meta name="copyright" content="FishCat233"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="此事在白咕咕的debug记录中亦有记载。">
<meta property="og:type" content="article">
<meta property="og:title" content="git clone 报错什么 RPC failed 啊怎么办？">
<meta property="og:url" content="https://blog.whispery.top/2025/02/250203/index.html">
<meta property="og:site_name" content="🐦微语鸟舍🐦">
<meta property="og:description" content="此事在白咕咕的debug记录中亦有记载。">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://avatars.githubusercontent.com/u/50800434">
<meta property="article:published_time" content="2025-02-08T07:55:40.000Z">
<meta property="article:modified_time" content="2025-02-08T07:55:40.000Z">
<meta property="article:author" content="FishCat233">
<meta property="article:tag" content="git">
<meta property="article:tag" content="踩坑记录">
<meta property="article:tag" content="github">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://avatars.githubusercontent.com/u/50800434"><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "git clone 报错什么 RPC failed 啊怎么办？",
  "url": "https://blog.whispery.top/2025/02/250203/",
  "image": "https://avatars.githubusercontent.com/u/50800434",
  "datePublished": "2025-02-08T07:55:40.000Z",
  "dateModified": "2025-02-08T07:55:40.000Z",
  "author": [
    {
      "@type": "Person",
      "name": "FishCat233",
      "url": "https://blog.whispery.top/"
    }
  ]
}</script><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://blog.whispery.top/2025/02/250203/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><script>
    (() => {
      
    const saveToLocal = {
      set: (key, value, ttl) => {
        if (!ttl) return
        const expiry = Date.now() + ttl * 86400000
        localStorage.setItem(key, JSON.stringify({ value, expiry }))
      },
      get: key => {
        const itemStr = localStorage.getItem(key)
        if (!itemStr) return undefined
        const { value, expiry } = JSON.parse(itemStr)
        if (Date.now() > expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return value
      }
    }

    window.btf = {
      saveToLocal,
      getScript: (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        Object.entries(attr).forEach(([key, val]) => script.setAttribute(key, val))
        script.onload = script.onreadystatechange = () => {
          if (!script.readyState || /loaded|complete/.test(script.readyState)) resolve()
        }
        script.onerror = reject
        document.head.appendChild(script)
      }),
      getCSS: (url, id) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onload = link.onreadystatechange = () => {
          if (!link.readyState || /loaded|complete/.test(link.readyState)) resolve()
        }
        link.onerror = reject
        document.head.appendChild(link)
      }),
      addGlobalFn: (key, fn, name = false, parent = window) => {
        if (!false && key.startsWith('pjax')) return
        const globalFn = parent.globalFn || {}
        globalFn[key] = globalFn[key] || {}
        globalFn[key][name || Object.keys(globalFn[key]).length] = fn
        parent.globalFn = globalFn
      }
    }
  
      
      const activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      const activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }

      btf.activateDarkMode = activateDarkMode
      btf.activateLightMode = activateLightMode

      const theme = saveToLocal.get('theme')
    
          theme === 'dark' ? activateDarkMode() : theme === 'light' ? activateLightMode() : null
        
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        document.documentElement.classList.toggle('hide-aside', asideStatus === 'hide')
      }
    
      
    const detectApple = () => {
      if (/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)) {
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
  
    })()
  </script><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":false,"top_n_per_article":1,"unescape":false,"languages":{"hits_empty":"未找到符合您查询的内容：${query}","hits_stats":"共找到 ${hits} 篇文章"}},
  translate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false,"highlightFullpage":false,"highlightMacStyle":false},
  copy: {
    success: '复制成功',
    error: '复制失败',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'null',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: false,
  islazyloadPlugin: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'git clone 报错什么 RPC failed 啊怎么办？',
  isHighlightShrink: false,
  isToc: false,
  pageType: 'post'
}</script><!-- hexo injector head_end start -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hexo-tag-plugins-heimu@latest/style.css">
<!-- hexo injector head_end end --><meta name="generator" content="Hexo 7.3.0"><link href="https://cdn.bootcss.com/KaTeX/0.11.1/katex.min.css" rel="stylesheet" /></head><body><div id="web_bg" style="background-image: url(https://s2.loli.net/2024/03/09/NLBMWulDgir4pew.jpg);"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img text-center"><img src="https://avatars.githubusercontent.com/u/50800434" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data text-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">17</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">27</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">13</div></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-comment"></i><span> 留言</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><span class="site-name">🐦微语鸟舍🐦</span></a><a class="nav-page-title" href="/"><span class="site-name">git clone 报错什么 RPC failed 啊怎么办？</span></a></span><div id="menus"><div id="search-button"><span class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></span></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-comment"></i><span> 留言</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div><div id="toggle-menu"><span class="site-page"><i class="fas fa-bars fa-fw"></i></span></div></div></nav><div id="post-info"><h1 class="post-title">git clone 报错什么 RPC failed 啊怎么办？</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2025-02-08T07:55:40.000Z" title="发表于 2025-02-08 15:55:40">2025-02-08</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2025-02-08T07:55:40.000Z" title="更新于 2025-02-08 15:55:40">2025-02-08</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E8%B8%A9%E5%9D%91%E8%AE%B0%E5%BD%95/">踩坑记录</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">总字数:</span><span class="word-count">559</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>2分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title=""><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">浏览量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span><span class="post-meta-separator">|</span><span class="post-meta-commentcount"><i class="far fa-comments fa-fw post-meta-icon"></i><span class="post-meta-label">评论数:</span><a href="/2025/02/250203/#post-comment"><span class="gitalk-comment-count"><i class="fa-solid fa-spinner fa-spin"></i></span></a></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="container post-content" id="article-container"><div id="post-outdate-notice" data="{&quot;limitDay&quot;:500,&quot;messagePrev&quot;:&quot;文章的内容可能已过时：自上次更新到现在已经过了&quot;,&quot;messageNext&quot;:&quot;天。&quot;,&quot;postUpdate&quot;:&quot;2025-02-08 15:55:40&quot;}" hidden></div><p>在使用conda和pip安装某仓库环境的时候报错：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">error: RPC failed; curl 92 HTTP/2 stream 5 was not closed cleanly: CANCEL (err 8)</span><br><span class="line">  error: 30 bytes of body are still expected</span><br><span class="line">  fetch-pack: unexpected disconnect while reading sideband packet</span><br><span class="line">  fatal: early EOF</span><br><span class="line">  fatal: fetch-pack: invalid index-pack output</span><br></pre></td></tr></table></figure>
<p>看不懂，干脆问ai，然后在ai的答案里面找到了解药。</p>
<p>我选择的方法是把http更换成ssh（<a href="https://blog.whispery.top/2025/02/2025020701/">毕竟昨天刚解决ssh的连接问题</a>）</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 尝试SSH协议（需提前配置SSH key）</span></span><br><span class="line">git config --global url.<span class="string">&quot;git@github.com:&quot;</span>.insteadOf <span class="string">&quot;https://github.com/&quot;</span></span><br></pre></td></tr></table></figure>
<p>然后就，解决了。</p>
<hr>
<blockquote>
<p><em>下面是 DeepSeek 的回答，其中，我采取了更换协议的方法。</em></p>
</blockquote>
<p>在安装过程中出现Git相关的网络错误通常与仓库克隆问题或网络连接不稳定有关。以下是分步解决方案：</p>
<ol>
<li>
<p><strong>升级Git和Pip</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 更新Git配置（针对大仓库）</span></span><br><span class="line">git config --global http.postBuffer 524288000</span><br><span class="line">git config --global core.compression 0</span><br><span class="line"><span class="comment"># 升级pip和工具链</span></span><br><span class="line"></span><br><span class="line"> pip install --upgrade pip setuptools wheel</span><br></pre></td></tr></table></figure>
</li>
<li>
<p><strong>更换Git协议（二选一）</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 尝试SSH协议（需提前配置SSH key）</span></span><br><span class="line">git config --global url.<span class="string">&quot;git@github.com:&quot;</span>.insteadOf <span class="string">&quot;https://github.com/&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 或强制使用HTTP/1.1</span></span><br><span class="line">git config --global http.version HTTP/1.1</span><br></pre></td></tr></table></figure>
</li>
<li>
<p><strong>手动克隆仓库（关键步骤）</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 先单独克隆主仓库（替换为实际仓库URL）</span></span><br><span class="line">git <span class="built_in">clone</span> https://github.com/yourusername/llava-next.git</span><br><span class="line"><span class="built_in">cd</span> llava-next</span><br><span class="line"><span class="comment"># 初始化子模块（如果有）</span></span><br><span class="line">git submodule update --init --recursive</span><br></pre></td></tr></table></figure>
</li>
<li>
<p><strong>使用镜像源安装</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 在项目目录中运行（已手动克隆后）</span></span><br><span class="line">pip install -e <span class="string">&quot;.[train]&quot;</span> \</span><br><span class="line"> -i https://pypi.tuna.tsinghua.edu.cn/simple \</span><br><span class="line"> --trusted-host pypi.tuna.tsinghua.edu.cn</span><br></pre></td></tr></table></figure>
</li>
<li>
<p><strong>若仍遇到包下载问题</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 对特定包使用镜像源</span></span><br><span class="line">pip install torch torchvision -i https://mirrors.aliyun.com/pypi/simple/</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p><strong>其他注意事项：</strong></p>
<ul>
<li>确保已安装构建依赖：<code>sudo apt-get install -y git python3-dev python3-venv</code></li>
<li>如果使用代理，请配置git代理：<code>git config --global http.proxy your_proxy:port</code></li>
<li>尝试在网络状况较好的时段进行操作</li>
<li>对于特别大的仓库，可添加<code>--depth 1</code>参数进行浅克隆</li>
</ul>
<p>如果问题依旧存在，请提供：</p>
<ol>
<li>完整的安装命令输出</li>
<li><code>pip -V</code> 和 <code>git --version</code> 的版本信息</li>
<li>是否使用特殊网络环境（公司代理/VPN等）</li>
</ol>
<p>这样可以进一步诊断具体问题原因。</p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>文章作者: </span><span class="post-copyright-info"><a href="https://blog.whispery.top">FishCat233</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>文章链接: </span><span class="post-copyright-info"><a href="https://blog.whispery.top/2025/02/250203/">https://blog.whispery.top/2025/02/250203/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来源 <a href="https://blog.whispery.top" target="_blank">🐦微语鸟舍🐦</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/git/">git</a><a class="post-meta__tags" href="/tags/%E8%B8%A9%E5%9D%91%E8%AE%B0%E5%BD%95/">踩坑记录</a><a class="post-meta__tags" href="/tags/github/">github</a></div><div class="post-share"><div class="social-share" data-image="https://avatars.githubusercontent.com/u/50800434" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><a class="pagination-related" href="/2025/02/hello-world/" title="Hello World"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info"><div class="info-1"><div class="info-item-1">上一篇</div><div class="info-item-2">Hello World</div></div><div class="info-2"><div class="info-item-1">Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. Quick Start Create a new post 1$ hexo new &quot;My New Post&quot; More info: Writing Run server 1$ hexo server More info: Server Generate static files 1$ hexo generate More info: Generating Deploy to remote sites 1$ hexo deploy More info: Deployment </div></div></div></a><a class="pagination-related" href="/2025/02/250204/" title="写一个 hexo 插件"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-right"><div class="info-1"><div class="info-item-1">下一篇</div><div class="info-item-2">写一个 hexo 插件</div></div><div class="info-2"><div class="info-item-1">黑幕，绝对有黑幕！ 今天在尝试美化hexo博客的突然灵光一现，然后就把我之前因为每次都要写 &#123; % raw % &#125; 这样的麻烦的hexo外挂标签语法而不怎么用的黑幕功能做成了插件。 好吧简单说就是把这个写成了一个插件。 是不是很眼熟？像这样的事情……很正常，因为在萌娘百科就有这样的效果。 好的，那么我怎么用呢？ 你可以参照FishCat233/hexo-tag-plugins-heimu: 适用于 Hexo 的黑幕标签插件 或者更加省流一点，在你的 hexo 博客目录执行这个： 1npm install hexo-tag-plugins-heimu --save 然后每当你想用使用黑幕的时候，&#123;%heimu 黑幕内容 标题%&#125; 这样就可以变成 -&gt; 黑幕内容，其中标题可以省略不写，默认的是「你知道的太多了」这个。（或许晚些时候我会写个读取配置的版本能够设置默认标题，但是现在！先鸽！） 应该不会有人在意的原理吧？ 查文档呗，看看hexo怎么写插件。首先是hexo自带的功能标签插件（Tag Plugins），也就是&#123;%...</div></div></div></a></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><a class="pagination-related" href="/2025/02/250201/" title="SSH 连不上 github 怎么办啊？"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-02-07</div><div class="info-item-2">SSH 连不上 github 怎么办啊？</div></div><div class="info-2"><div class="info-item-1">我不造啊。突然间就连不上了，变量也忒多了，于是不得不花几个钟上网到处找才解决问题。 代理在干嘛？有没有发力？ 首先检查的就是代理程序是不是只进行了HTTP代理。虽然暂时不是很懂代理原理，但是显然不对SSH进行代理配置是不行的，于是我上网寻找如何给SSH进行代理。 忍不住吐槽的是，网上搜出来的东西全是前篇一律：如何在 Mac 上给 ssh 配置代理？如何在 Linux 上给 ssh 配置代理？搜出来的几百篇（夸张）文章都是同一样的图和同一样的命令……甚至同一样的文本（这是真的）。 在我以为很小众的 Windows 用户在这鬼打墙一样的互联网上没有容身之所、要颠沛流离的时候，我找到了这个，跟着博客成功配置了代理。为了防止失联，所以我还是把方法重新整理一下吧。   首先就像正常配置ssh一样打开配置文件。 什么？你不会？ssh配置文件应该在 ~/.ssh(git bash)，或者 C:\Users\用户名\.ssh(Windows) 目录下，这个目录下有个config的文件（细节没有.xxx扩展名，此外如果没有这个文件你可以创建一个）   写入配置 12Host...</div></div></div></a><a class="pagination-related" href="/2025/02/250205/" title="x264处理安卓手机视频时产生的视频旋转问题"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-02-10</div><div class="info-item-2">x264处理安卓手机视频时产生的视频旋转问题</div></div><div class="info-2"><div class="info-item-1">你好 省流：用 ffmpeg -i video.mp4 output.mp4 处理一下就可以了 什么玩意？这就完了？ 事情也不是很复杂：安卓拍摄的视频会附带带有rotation的Side data在视频的Meta data中——也就是也就是说安卓拍的视频可能自带了旋转信息。 可以做个实验测试一下，使用 ffmpeg -i video.mp4 -hide_banner 查看一个安卓手机拍摄的竖屏视频的信息。 123456789101112131415161718192021Input #0, mov,mp4,m4a,3gp,3g2,mj2, from &#x27;video.mp4&#x27;:  Metadata:    major_brand     : mp42    minor_version   : 0    compatible_brands: isommp42    creation_time   : 2024-11-08T09:05:46.000000Z    com.android.version: 13    com.android.capture.fps:...</div></div></div></a></div></div><hr class="custom-hr"/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> 评论</span></div></div><div class="comment-wrap"><div><div id="gitalk-container"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info text-center"><div class="avatar-img"><img src="https://avatars.githubusercontent.com/u/50800434" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info-name">FishCat233</div><div class="author-info-description">️现在在你面前的是华夏文明传承者、微软视窗系统高级驾驭者、全球信息高速公路黄金旅客、游戏圣殿的朝圣者、异次元世界观测员、虚构世界的创世主——一个喜欢写代码打游戏写小说看动漫的普通大学生。</div><div class="site-data"><a href="/archives/"><div class="headline">文章</div><div class="length-num">17</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">27</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">13</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/FishCat233/"><i class="fab fa-github"></i><span>我的 Github</span></a><div class="card-info-social-icons"><a class="social-icon" href="https://github.com/FishCat233" target="_blank" title="Github"><i class="fab fa-github" style="color: #24292e;"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">欢迎来到鸽子的微语鸟舍。该博客不定期更新不固定内容。这里是独立游戏热爱者，键盘理论精通人——鸽子。</div></div><div class="sticky_layout"><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/02/250205/" title="x264处理安卓手机视频时产生的视频旋转问题">x264处理安卓手机视频时产生的视频旋转问题</a><time datetime="2025-02-10T10:23:36.000Z" title="发表于 2025-02-10 18:23:36">2025-02-10</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/02/250204/" title="写一个 hexo 插件">写一个 hexo 插件</a><time datetime="2025-02-09T10:17:32.000Z" title="发表于 2025-02-09 18:17:32">2025-02-09</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/02/250203/" title="git clone 报错什么 RPC failed 啊怎么办？">git clone 报错什么 RPC failed 啊怎么办？</a><time datetime="2025-02-08T07:55:40.000Z" title="发表于 2025-02-08 15:55:40">2025-02-08</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/02/hello-world/" title="Hello World">Hello World</a><time datetime="2025-02-07T09:48:10.518Z" title="发表于 2025-02-07 17:48:10">2025-02-07</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/02/250201/" title="SSH 连不上 github 怎么办啊？">SSH 连不上 github 怎么办啊？</a><time datetime="2025-02-07T07:55:11.000Z" title="发表于 2025-02-07 15:55:11">2025-02-07</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2021 - 2025 By FishCat233</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="日间和夜间模式切换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><a id="to_comment" href="#post-comment" title="前往评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><div class="js-pjax"><script>(async () => {
  const showKatex = () => {
    document.querySelectorAll('#article-container .katex').forEach(el => el.classList.add('katex-show'))
  }

  if (!window.katex_js_css) {
    window.katex_js_css = true
    await btf.getCSS('https://cdn.jsdelivr.net/npm/katex/dist/katex.min.css')
    if (false) {
      await btf.getScript('https://cdn.jsdelivr.net/npm/katex/dist/contrib/copy-tex.min.js')
    }
  }

  showKatex()
})()</script><script>(() => {
  const isShuoshuo = GLOBAL_CONFIG_SITE.pageType === 'shuoshuo'
  const option = null

  const commentCount = n => {
    const isCommentCount = document.querySelector('#post-meta .gitalk-comment-count')
    if (isCommentCount) {
      isCommentCount.textContent= n
    }
  }

  const initGitalk = (el, path) => {
    if (isShuoshuo) {
      window.shuoshuoComment.destroyGitalk = () => {
        if (el.children.length) {
          el.innerHTML = ''
          el.classList.add('no-comment')
        }
      }
    }

    const gitalk = new Gitalk({
      clientID: 'Ov23liYtkMCXs4UZQdde',
      clientSecret: 'c1dcc333e0ca4498ab79ae924b4b731c21e58044',
      repo: 'FishCat233.github.io',
      owner: 'FishCat233',
      admin: ['FishCat233'],
      updateCountCallback: commentCount,
      ...option,
      id: isShuoshuo ? path : (option && option.id) || '9639f3943f57f17a0d4889cd3fef0513'
    })

    gitalk.render('gitalk-container')
  }

  const loadGitalk = async(el, path) => {
    if (typeof Gitalk === 'function') initGitalk(el, path)
    else {
      await btf.getCSS('https://cdn.jsdelivr.net/npm/gitalk/dist/gitalk.min.css')
      await btf.getScript('https://cdn.jsdelivr.net/npm/gitalk/dist/gitalk.min.js')
      initGitalk(el, path)
    }
  }

  if (isShuoshuo) {
    'Gitalk' === 'Gitalk'
      ? window.shuoshuoComment = { loadComment: loadGitalk }
      : window.loadOtherComment = loadGitalk
    return
  }

  if ('Gitalk' === 'Gitalk' || !false) {
    if (false) btf.loadComment(document.getElementById('gitalk-container'), loadGitalk)
    else loadGitalk()
  } else {
    window.loadOtherComment = loadGitalk
  }
})()</script></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="text-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div id="local-search-results"></div><div id="local-search-stats-wrap"></div></div></div><div id="search-mask"></div><script src="/js/search/local-search.js"></script></div></div></body></html>
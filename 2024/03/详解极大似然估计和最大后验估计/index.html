<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>详解极大似然估计和最大后验估计 | 微语的闲庭小室</title><meta name="author" content="Whispery"><meta name="copyright" content="Whispery"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="最大似然估计（Maximum likelihood estimation, MLE） 和 最大后验概率估计（Maximum a posteriori estimation, MAP） 是很常用的两种参数估计方法。本文将详解MLE和MAP的思路和区别。">
<meta property="og:type" content="article">
<meta property="og:title" content="详解极大似然估计和最大后验估计">
<meta property="og:url" content="https://whispery.top/2024/03/%E8%AF%A6%E8%A7%A3%E6%9E%81%E5%A4%A7%E4%BC%BC%E7%84%B6%E4%BC%B0%E8%AE%A1%E5%92%8C%E6%9C%80%E5%A4%A7%E5%90%8E%E9%AA%8C%E4%BC%B0%E8%AE%A1/index.html">
<meta property="og:site_name" content="微语的闲庭小室">
<meta property="og:description" content="最大似然估计（Maximum likelihood estimation, MLE） 和 最大后验概率估计（Maximum a posteriori estimation, MAP） 是很常用的两种参数估计方法。本文将详解MLE和MAP的思路和区别。">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://s2.loli.net/2023/05/21/mMU3b7nhIe1KaJd.png">
<meta property="article:published_time" content="2024-03-09T15:30:57.000Z">
<meta property="article:modified_time" content="2024-03-09T15:30:57.000Z">
<meta property="article:author" content="Whispery">
<meta property="article:tag" content="科技数码">
<meta property="article:tag" content="数学">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://s2.loli.net/2023/05/21/mMU3b7nhIe1KaJd.png"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://whispery.top/2024/03/%E8%AF%A6%E8%A7%A3%E6%9E%81%E5%A4%A7%E4%BC%BC%E7%84%B6%E4%BC%B0%E8%AE%A1%E5%92%8C%E6%9C%80%E5%A4%A7%E5%90%8E%E9%AA%8C%E4%BC%B0%E8%AE%A1/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css?v=4.13.0"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.5.1/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.33/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":false,"top_n_per_article":1,"unescape":false,"languages":{"hits_empty":"找不到您查询的内容：${query}","hits_stats":"共找到 ${hits} 篇文章"}},
  translate: undefined,
  noticeOutdate: {"limitDay":500,"position":"top","messagePrev":"文章的内容可能已过时：自上次更新到现在已经过了","messageNext":"天。"},
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid@4.11.1/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '详解极大似然估计和最大后验估计',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2024-03-09 23:30:57'
}</script><script>(win=>{
      win.saveToLocal = {
        set: (key, value, ttl) => {
          if (ttl === 0) return
          const now = Date.now()
          const expiry = now + ttl * 86400000
          const item = {
            value,
            expiry
          }
          localStorage.setItem(key, JSON.stringify(item))
        },
      
        get: key => {
          const itemStr = localStorage.getItem(key)
      
          if (!itemStr) {
            return undefined
          }
          const item = JSON.parse(itemStr)
          const now = Date.now()
      
          if (now > item.expiry) {
            localStorage.removeItem(key)
            return undefined
          }
          return item.value
        }
      }
    
      win.getScript = (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        script.onerror = reject
        script.onload = script.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          script.onload = script.onreadystatechange = null
          resolve()
        }

        Object.keys(attr).forEach(key => {
          script.setAttribute(key, attr[key])
        })

        document.head.appendChild(script)
      })
    
      win.getCSS = (url, id = false) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onerror = reject
        link.onload = link.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          link.onload = link.onreadystatechange = null
          resolve()
        }
        document.head.appendChild(link)
      })
    
      win.activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
        if (t === 'dark') activateDarkMode()
        else if (t === 'light') activateLightMode()
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
      const detectApple = () => {
        if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
          document.documentElement.classList.add('apple')
        }
      }
      detectApple()
    })(window)</script><meta name="generator" content="Hexo 7.1.1"><link href="https://cdn.bootcss.com/KaTeX/0.11.1/katex.min.css" rel="stylesheet" /></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="https://s2.loli.net/2023/05/21/mMU3b7nhIe1KaJd.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">5</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">5</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">5</div></a></div><hr class="custom-hr"/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 链接</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('https://s2.loli.net/2024/03/09/NLBMWulDgir4pew.jpg')"><nav id="nav"><span id="blog-info"><a href="/" title="微语的闲庭小室"><span class="site-name">微语的闲庭小室</span></a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search" href="javascript:void(0);"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 链接</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">详解极大似然估计和最大后验估计</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2024-03-09T15:30:57.000Z" title="发表于 2024-03-09 23:30:57">2024-03-09</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2024-03-09T15:30:57.000Z" title="更新于 2024-03-09 23:30:57">2024-03-09</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E4%B8%96%E7%95%8C/">计算机世界</a><i class="fas fa-angle-right post-meta-separator"></i><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E6%95%B0%E5%AD%A6%E7%8E%8B%E5%9B%BD/">数学王国</a><i class="fas fa-angle-right post-meta-separator"></i><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E6%95%B0%E5%AD%A6%E7%8E%8B%E5%9B%BD/%E6%A6%82%E7%8E%87%E7%BB%9F%E8%AE%A1/">概率统计</a><i class="fas fa-angle-right post-meta-separator"></i><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E4%B8%96%E7%95%8C/%E7%AE%97%E6%B3%95/">算法</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="详解极大似然估计和最大后验估计"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><p><strong>最大似然估计（Maximum likelihood estimation, MLE）</strong> 和 <strong>最大后验概率估计（Maximum a posteriori estimation, MAP）</strong> 是很常用的两种参数估计方法。本文将详解MLE和MAP的思路和区别。</p>
<span id="more"></span>
<h1 id="原创不易，转载请注明作者及出处：-Whispery的闲庭小室"><em><strong>原创不易，转载请注明作者及出处： Whispery的闲庭小室</strong></em></h1>
<p><em><strong>作者：Whispery</strong></em></p>
<p><em><strong>原帖地址：<a href="https://whispery.top/2024/03/%E8%AF%A6%E8%A7%A3%E6%9E%81%E5%A4%A7%E4%BC%BC%E7%84%B6%E4%BC%B0%E8%AE%A1%E5%92%8C%E6%9C%80%E5%A4%A7%E5%90%8E%E9%AA%8C%E4%BC%B0%E8%AE%A1/">https://whispery.top/2024/03/详解极大似然估计和最大后验估计/</a></strong></em></p>
<hr>
<h1 id="在此之前">在此之前</h1>
<h2 id="概率与统计">概率与统计</h2>
<p>首先我们要搞清楚MLE和MAP到底是什么方法，研究什么问题，用途是什么。而在此前要了解概率和统计的区别。</p>
<p>概率和统计是关系密切的概念，但是两者对问题的关注方向不同。</p>
<p>网上关于两者的关系和区别有很多说法和比喻，我在这里说一下我个人的理解： <strong>概率关注问题的结果，统计关注问题的过程。</strong></p>
<p>比如说，我有一个随机数生成器，它的原理是以某种特定的方法生成0或1，概率学会关注生成0或1的概率，而统计学会关注生成结果的方法——也就是生成随机数的过程。</p>
<p>上面的例子可能还是有点绕，不如更现实一些。例如学校课堂上老师用座位表随机点人，问题是我会不会被老师点到，那么概率学会关注我有多少可能会被点，而统计会关注老师点人的习惯特点（例如老师因为右手拿座位表手指会挡住一些人名导致那个位置的人几乎不会被点）</p>
<p>回到MLE和MAP上，MLE和MAP是统计领域的问题，这两种方法能够根据统计估计假设模型中的参数。</p>
<h2 id="贝叶斯定理">贝叶斯定理</h2>
<p>在了解MLE和MAP之前，你还得了解 <strong>贝叶斯定理（Bayes’ Theorem）</strong> ：</p>
<p>$$P(A|B)=\frac{P(B|A)P(A)}{P(B)}$$</p>
<p>别慌，贝叶斯定理其实是条件概率和联合概率公式推来的。</p>
<p>我们可以浅显的从现实去看这个公式——假设在小区的白天，电动车响了，会不会是有人在偷车？令有人在偷车为事件A，电动车响了为事件B。等式左边，$P(A|B)$表示电动车响是有人在偷车的概率；等式右边，$P(B|A)$表示有人偷车的时候电动车响了，$P(A)$表示有人在偷车，$P(B)$表示电动车响了。</p>
<p>当电动车发出声响的时候，大部分人都不会觉得是有人在偷车，为什么呢？因为我们知道：虽然$P(B|A)$偷车的时候电动车会响的概率很大，但是有人偷电动车这一事件发生$P(A)$的概率本身会较小，而且同时$P(B)$电动车会响的事情会很大——电动车发出响声再平常不过了。因此总体而言$P(A|B)$的概率就小了，也就是电动车响了的时候有人在偷车的概率小了。</p>
<p>回到公式上，贝叶斯定理描述了 <strong>在考虑事情本身发生及其前提发生的可能性后，发生的概率会有多大？</strong> ，或者说： <strong>你有多大把握相信一件事会发生。</strong></p>
<p>还不理解？不妨将上面那个例子设置得极端一些：假如说世道混乱，<span class="heimu" title="民 风 淳 朴"><s>民风淳朴</s></span>，你觉得偷电动车再常见不过，那么在你眼里$P(A)$有人偷电动车的概率很大，那么$P(A|B)$总体就会更大了。又或者小区里的电动车都很乖，平时正常使用都不怎么响的，那么$P(B)$电动车响声的概率就很小，总体而言$P(A|B)$总体就会更大，当响声时你也会觉得是不是有人在偷车。又或者知道电动车的警报系统很拉跨，很多时候即使有人偷车也不会响，那么$P(B|A)$很小，那么总体而言$P(A|B)$变小，偶尔响一下也不会觉得是有人在偷车，因为觉得大部分小偷偷车的时候都不响，警报系统没有可信度，现在响也不能证明有人在偷车。</p>
<p>这就是我关于现实视角下的贝叶斯定理的解释和理解。</p>
<h2 id="似然函数">似然函数</h2>
<p>极大似然估计（MLE），我们可以猜，极大就是最大值或者很大数的意思，而估计则可以从概率与统计中得到答案——估计模型的参数……那么，似然是什么？</p>
<p>为此，要说说似然函数。</p>
<p>在<a target="_blank" rel="noopener" href="https://blog.csdn.net/u011508640/article/details/72815981">参考文章</a>里，我找到了一个很好的解释。</p>
<blockquote>
<p>似然（likelihood）这个词其实和概率（probability）是差不多的意思，Colins字典这么解释：The likelihood of something happening is how likely it is to happen. 你把likelihood换成probability，这解释也读得通。但是在统计里面，似然函数和概率函数却是两个不同的概念（其实也很相近就是了）。</p>
<p>对于这个函数（或者你可以理解为一个抽象没有具体形态的方程，描述了模型参数 $\theta$ 和结果$x$的关系）：</p>
<p>$P(x|\theta)$</p>
<p>输入有两个：$x$表示某一个具体的数据； $\theta$ 表示模型的参数。</p>
<p>如果 $\theta$ 是已知确定的，$x$是变量，这个函数叫做概率函数(probability function)，它描述对于不同的样本点$x$，其出现概率是多少。</p>
<p>如果$x$是已知确定的， $\theta$ 是变量，这个函数叫做似然函数(likelihood function), 它描述对于不同的模型参数，出现$x$这个样本点的概率是多少。</p>
</blockquote>
<p>可以回到上面那个关于概率和统计那个随机数生成器的例子，生成器随机生成0和1，我们假设生成器用的是某种模型，然后模型通过一个参数 $\theta$ 随机生成0和1。那么当 $\theta$ 已知时，令生成的结果$x$为变量，这时候$P(x|\theta)$就是概率函数，描述了0和1出现的概率分布。而当$x$已知时，令 $\theta$ 为变量，这时候$P(x|\theta)$就是似然函数，其表述了在生成器设置不同的参数 $\theta$ 下，已知的$x$出现的概率。</p>
<h1 id="MLE与MAP">MLE与MAP</h1>
<h2 id="最大似然估计-MLE">最大似然估计 MLE</h2>
<p>终于要写这部分了。</p>
<p>想象面前有两个箱子，一个箱子装满了红球，一个箱子装满了白球。</p>
<p>再想象我们有台机器，它会按照随机地从两个箱子里抽出一个球。</p>
<p>我们先假设一个简单的模型来描述这个过程：</p>
<p>$$f(x)=\begin{cases}<br>
机器选择抽红球, &amp; \theta &gt; x &gt; 0 \<br>
机器选择抽白球, &amp; 1 &gt; x &gt; \theta<br>
\end{cases}$$</p>
<p>机器产生从0到1的随机数x，然后判断$x$是比 $\theta$ 大还是小来决定是抽红球还是白球。</p>
<p><strong>问题来了，我们怎么找到最切合实际的模型参数 $\theta$ 呢？</strong></p>
<p>答案是通过实际实验来找。</p>
<p>那么现在开始抽球，让机器抽了10个球，实验结果 $x_0$ 是：红白红红白红白白红红。</p>
<p>回到先前那个奇怪的函数$P(x|\theta)$，在抽象层面上，现在我们知道了结果$x$，可以通过这个函数（方程）求出 $\theta$ ——不过在此之前，我们要先求出这个函数在当前问题下的具体形式才能进行求解——也就是求出出现实验结果 $x_0$ 的似然函数。</p>
<p>根据上面假设的模型，我们知道这是简单的几何概型（不知道几何概型也没关系），抽出红球的概率是 $\theta$ ，抽出白球的概率是$1-\theta$，那么出现结果 $x_0$ 的似然函数可以简单的推导出来：</p>
<p>$P(x_0|\theta)=\theta\times(1-\theta)\times\theta\times\theta\times(1-\theta)\times\theta\times(1-\theta)\times(1-\theta)\times\theta\times\theta$</p>
<p>化简得</p>
<p>$P(x_0|\theta)=\theta^6(1-\theta)^4$</p>
<p>这就是结果为 $x_0$ 时关于变量 $\theta$ 似然函数，$\theta$在我们假设的模型中则是模型的参数，我们可以画出函数图来看一下这玩意长什么样。</p>
<p><img src="/2024/03/%E8%AF%A6%E8%A7%A3%E6%9E%81%E5%A4%A7%E4%BC%BC%E7%84%B6%E4%BC%B0%E8%AE%A1%E5%92%8C%E6%9C%80%E5%A4%A7%E5%90%8E%E9%AA%8C%E4%BC%B0%E8%AE%A1/%E4%BC%BC%E7%84%B6%E5%87%BD%E6%95%B0.png" alt="函数图像"></p>
<p>长这样。</p>
<p>横轴是 $\theta$ ，而纵轴则是$P(x_0|\theta)$，也就是在不同 $\theta$ 下出现抽球结果 $x_0$ （注意在上面的求似然函数的过程中，我们考虑了全部十次抽球结果， $x_0$ 代表了十次结果整体而不是分开的一次次结果）的概率。</p>
<p>我们可以发现，当模型参数 $\theta$ 为$0.0011944$时，抽球抽出结果 $x_0$ 的概率最大。</p>
<p><strong>也就是说，我们模型里的参数 $\theta$ 为0.0011944时，最贴合实验结果 $x_0$ 。通过似然函数和已知的实验结果，求似然函数最大值对应的 $\theta$ 的方法，我们知道了给模型取什么样的参数 $\theta$ 最能贴合实验结果的方法，这个方法就是最大似然估计MLE。</strong></p>
<h2 id="最大后验概率估计">最大后验概率估计</h2>
<p>好消息，<span class="heimu" title="你知道的太多了"><s>在特异能力者对机器的读心实验中</s></span>，我们知道了更多关于这台机器的情报，我们知道模型参数 $\theta$ 更有可能会是0.3——我们得到了关于 $\theta$ 的概率分布函数$P(\theta)$，这个函数告诉了我们实际的 $\theta$ 有可能会是什么，也就是“ $\theta$ 等于某个数x”成立的概率，根据情报，我们知道了 $P(\theta)=\frac{1}{\sqrt{2\pi}a}\exp\left(-\frac{\left(x-b\right)^{2}}{2a^{2}}\right)$。</p>
<p>长这样：</p>
<p><img src="/2024/03/%E8%AF%A6%E8%A7%A3%E6%9E%81%E5%A4%A7%E4%BC%BC%E7%84%B6%E4%BC%B0%E8%AE%A1%E5%92%8C%E6%9C%80%E5%A4%A7%E5%90%8E%E9%AA%8C%E4%BC%B0%E8%AE%A1/%E5%85%88%E9%AA%8C%E6%A6%82%E7%8E%87.png" alt="$P(heta)$函数图像"></p>
<p>好吧这里面有很多槽点和漏洞，但是让我们别管它们！</p>
<p>我们该怎么把新得到的情报引入我们的最大似然估计呢？答案是贝叶斯定理！<strong>在考虑事情本身发生及其前提发生的可能性后，发生的概率会有多大？</strong>——我们不只参考了实验结果，也参考了 $\theta$ 本身等于某个数的概率$P(\theta)$。</p>
<p>在最大似然估计中，我们通过取最大$P(x|\theta)$来获得最切合的模型参数 $\theta$ ，我们可以用条件概率表示$P(\theta|x)$当实验结果为x时参数为 $\theta$ 的概率。</p>
<p>根据贝叶斯定理，可知：</p>
<p>$$P(\theta|x)=\frac{P(x|\theta)P(\theta)}{P(x)}$$</p>
<p>当$P(\theta|x)$函数值最大的时候，也就是 $\theta$ 最有可能取得的数。因此我们找到$P(\theta|x)$最大时对应的 $\theta$ 就可以求得在考虑了新情报的情况下最合适实验结果的 $\theta$ 。</p>
<p>在实际问题中我们已知实验结果，变量时 $\theta$ ，因此$x$为定量，则$P(x)$也为定量，因此想找等式左边的最大值，只需要关注右边分子的最大值，问题变成了找$P(x|\theta)P(\theta)$最大时对应的x。</p>
<p>在前面我们知道了$P(x_0|\theta)=\theta^6(1-\theta)^4$，根据后来的情报我们又知道了$P(\theta)=\frac{1}{\sqrt{2\pi}a}\exp\left(-\frac{\left(x-b\right)^{2}}{2a^{2}}\right)$，那么$P(x|\theta)P(\theta)$不就是将两者乘起来了嘛！<span class="heimu" title="你知道的太多了">通过计算机</span>轻松画出函数图像找到最大值。（其实在实际计算中不用画图像也能求最大值）</p>
<p><img src="/2024/03/%E8%AF%A6%E8%A7%A3%E6%9E%81%E5%A4%A7%E4%BC%BC%E7%84%B6%E4%BC%B0%E8%AE%A1%E5%92%8C%E6%9C%80%E5%A4%A7%E5%90%8E%E9%AA%8C%E4%BC%B0%E8%AE%A1/%E5%90%8E%E9%AA%8C%E6%A6%82%E7%8E%87.png" alt="后验概率"></p>
<p>我们可以找到函数最大时 $\theta$ 对应的值：$0.581$。</p>
<p>这就是考虑了新情报以后最切合实验结果的模型参数。</p>
<p>回到上面的公式 $P(\theta|x)=\frac{P(x|\theta)P(\theta)}{P(x)}$ 上，根据先验概率和后验概率的定义，我们知道在公式中，$P(\theta)$是先验概率，而$P(\theta|x)$是后验概率。在我们上面求最切合的模型参数的方法里，我们把求最切合模型参数的问题转换成了求解后验概率$P(\theta|x)$的最大值的问题——这就是“最大后验估计”。</p>
<h1 id="后话">后话</h1>
<p>需要知道的是，不管是最大似然估计还是最大后验估计，我们都是在求我们所假设的模型的最佳参数，由于模型本身是假设的，所以结果可不可靠除了参数以外，也要选择切合实际的模型。在上面的例子中，万一机器抽球原理不是我们假设的模型而是其他的呢？</p>
<p>而在最大后验估计中，“新情报”（也就是先验概率）的可靠程度也影响了最大后验估计的结果，有时候不一定是什么都加入考虑加入计算就能得出最贴合实际的模型和参数。同样还是上面那个例子，如果异能者为了拖延我们对机器的研究，故意造假给出了先验概率$P(\theta)$呢，那么我们的计算结果就会受到假信息的干扰，从而难以得到正确的结果。</p>
<p><span class="heimu" title="你知道的太多了"><s>或许我们应该调查一下那一名异能者。</s></span></p>
<hr>
<h1 id="参考文章">参考文章</h1>
<ul>
<li><a target="_blank" rel="noopener" href="https://blog.csdn.net/u011508640/article/details/72815981">详解最大似然估计（MLE）、最大后验概率估计（MAP），以及贝叶斯公式的理解</a></li>
</ul>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>文章作者: </span><span class="post-copyright-info"><a href="https://whispery.top">Whispery</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>文章链接: </span><span class="post-copyright-info"><a href="https://whispery.top/2024/03/%E8%AF%A6%E8%A7%A3%E6%9E%81%E5%A4%A7%E4%BC%BC%E7%84%B6%E4%BC%B0%E8%AE%A1%E5%92%8C%E6%9C%80%E5%A4%A7%E5%90%8E%E9%AA%8C%E4%BC%B0%E8%AE%A1/">https://whispery.top/2024/03/%E8%AF%A6%E8%A7%A3%E6%9E%81%E5%A4%A7%E4%BC%BC%E7%84%B6%E4%BC%B0%E8%AE%A1%E5%92%8C%E6%9C%80%E5%A4%A7%E5%90%8E%E9%AA%8C%E4%BC%B0%E8%AE%A1/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://whispery.top" target="_blank">微语的闲庭小室</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%E7%A7%91%E6%8A%80%E6%95%B0%E7%A0%81/">科技数码</a><a class="post-meta__tags" href="/tags/%E6%95%B0%E5%AD%A6/">数学</a></div><div class="post_share"><div class="social-share" data-image="https://s2.loli.net/2023/05/21/mMU3b7nhIe1KaJd.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="next-post pull-full"><a href="/2024/03/%E3%80%90%E6%8C%81%E7%BB%AD%E6%9B%B4%E6%96%B0%E3%80%91%E5%A5%BD%E7%94%A8%E8%B5%84%E6%BA%90%E5%90%88%E9%9B%86/" title="【持续更新】好用资源合集"><div class="cover" style="background: var(--default-bg-color)"></div><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">【持续更新】好用资源合集</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><div><a href="/2024/03/%E5%9F%9F%E5%90%8D%E8%A7%A3%E6%9E%90/" title="域名解析"><div class="cover" style="background: var(--default-bg-color)"></div><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2024-03-09</div><div class="title">域名解析</div></div></a></div><div><a href="/2024/03/%E3%80%90%E6%8C%81%E7%BB%AD%E6%9B%B4%E6%96%B0%E3%80%91%E5%A5%BD%E7%94%A8%E8%B5%84%E6%BA%90%E5%90%88%E9%9B%86/" title="【持续更新】好用资源合集"><div class="cover" style="background: var(--default-bg-color)"></div><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2024-03-09</div><div class="title">【持续更新】好用资源合集</div></div></a></div></div></div><hr class="custom-hr"/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> 评论</span></div></div><div class="comment-wrap"><div><div id="waline-wrap"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="https://s2.loli.net/2023/05/21/mMU3b7nhIe1KaJd.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">Whispery</div><div class="author-info__description">独立游戏热爱者，键盘理论精通人。</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">5</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">5</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">5</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/FishCat233/"><i class="fab fa-github"></i><span>我的 Github</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/FishCat233" target="_blank" title="Github"><i class="fab fa-github" style="color: #24292e;"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">欢迎来到微语的闲庭小室。该博客不定期更新不固定内容。</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%8E%9F%E5%88%9B%E4%B8%8D%E6%98%93%EF%BC%8C%E8%BD%AC%E8%BD%BD%E8%AF%B7%E6%B3%A8%E6%98%8E%E4%BD%9C%E8%80%85%E5%8F%8A%E5%87%BA%E5%A4%84%EF%BC%9A-Whispery%E7%9A%84%E9%97%B2%E5%BA%AD%E5%B0%8F%E5%AE%A4"><span class="toc-number">1.</span> <span class="toc-text">原创不易，转载请注明作者及出处： Whispery的闲庭小室</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%9C%A8%E6%AD%A4%E4%B9%8B%E5%89%8D"><span class="toc-number">2.</span> <span class="toc-text">在此之前</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A6%82%E7%8E%87%E4%B8%8E%E7%BB%9F%E8%AE%A1"><span class="toc-number">2.1.</span> <span class="toc-text">概率与统计</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%B4%9D%E5%8F%B6%E6%96%AF%E5%AE%9A%E7%90%86"><span class="toc-number">2.2.</span> <span class="toc-text">贝叶斯定理</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BC%BC%E7%84%B6%E5%87%BD%E6%95%B0"><span class="toc-number">2.3.</span> <span class="toc-text">似然函数</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#MLE%E4%B8%8EMAP"><span class="toc-number">3.</span> <span class="toc-text">MLE与MAP</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9C%80%E5%A4%A7%E4%BC%BC%E7%84%B6%E4%BC%B0%E8%AE%A1-MLE"><span class="toc-number">3.1.</span> <span class="toc-text">最大似然估计 MLE</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9C%80%E5%A4%A7%E5%90%8E%E9%AA%8C%E6%A6%82%E7%8E%87%E4%BC%B0%E8%AE%A1"><span class="toc-number">3.2.</span> <span class="toc-text">最大后验概率估计</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%90%8E%E8%AF%9D"><span class="toc-number">4.</span> <span class="toc-text">后话</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%8F%82%E8%80%83%E6%96%87%E7%AB%A0"><span class="toc-number">5.</span> <span class="toc-text">参考文章</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/03/%E8%AF%A6%E8%A7%A3%E6%9E%81%E5%A4%A7%E4%BC%BC%E7%84%B6%E4%BC%B0%E8%AE%A1%E5%92%8C%E6%9C%80%E5%A4%A7%E5%90%8E%E9%AA%8C%E4%BC%B0%E8%AE%A1/" title="详解极大似然估计和最大后验估计">详解极大似然估计和最大后验估计</a><time datetime="2024-03-09T15:30:57.000Z" title="发表于 2024-03-09 23:30:57">2024-03-09</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/03/%E3%80%90%E6%8C%81%E7%BB%AD%E6%9B%B4%E6%96%B0%E3%80%91%E5%A5%BD%E7%94%A8%E8%B5%84%E6%BA%90%E5%90%88%E9%9B%86/" title="【持续更新】好用资源合集">【持续更新】好用资源合集</a><time datetime="2024-03-09T13:42:08.000Z" title="发表于 2024-03-09 21:42:08">2024-03-09</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/03/%E5%9F%9F%E5%90%8D%E8%A7%A3%E6%9E%90/" title="域名解析">域名解析</a><time datetime="2024-03-09T10:09:47.000Z" title="发表于 2024-03-09 18:09:47">2024-03-09</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/03/%E5%8F%A6%E4%B8%80%E6%9D%A1%E5%A3%B0%E6%98%8E/" title="另一条声明">另一条声明</a><time datetime="2024-03-09T05:46:57.000Z" title="发表于 2024-03-09 13:46:57">2024-03-09</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/03/hello-world/" title="Hello World">Hello World</a><time datetime="2024-03-08T12:59:31.808Z" title="发表于 2024-03-08 20:59:31">2024-03-08</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2023 - 2024 By Whispery</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js?v=4.13.0"></script><script src="/js/main.js?v=4.13.0"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.33/dist/fancybox/fancybox.umd.min.js"></script><div class="js-pjax"><script>(() => {
  let initFn = window.walineFn || null

  const initWaline = (Fn) => {
    const waline = Fn(Object.assign({
      el: '#waline-wrap',
      serverURL: 'https://cs.whispery.top',
      pageview: false,
      dark: 'html[data-theme="dark"]',
      path: window.location.pathname,
      comment: false,
    }, null))

    const destroyWaline = () => {
      waline.destroy()
    }

    btf.addGlobalFn('pjax', destroyWaline, 'destroyWaline')
  }

  const loadWaline = async () => {
    if (initFn) initWaline(initFn)
    else {
      await getCSS('https://cdn.jsdelivr.net/npm/@waline/client@3.1.2/dist/waline.min.css')
      const { init } = await import('https://cdn.jsdelivr.net/npm/@waline/client@3.1.2/dist/waline.min.js')
      initFn = init || Waline.init
      initWaline(initFn)
      window.walineFn = initFn
    }
  }

  if ('Waline' === 'Waline' || !true) {
    if (true) btf.loadComment(document.getElementById('waline-wrap'),loadWaline)
    else setTimeout(loadWaline, 0)
  } else {
    window.loadOtherComment = loadWaline
  }
})()</script></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div id="local-search-results"></div><div id="local-search-stats-wrap"></div></div></div><div id="search-mask"></div><script src="/js/search/local-search.js?v=4.13.0"></script></div></div></body></html>